## Klassenhierarchie Ausnahmen
- Oberklasse "Throwable"
	- Unterklasse "Exception" -> können zur Laufzeit behoben werden
		- "checked exceptions" -> erweitern die Klasse "Exception", heißen so weil Compiler für die Übersetzungszeit try-catch-Mechanismus vom Programm einfordert
		- Unterklasse "RuntimeExceptions"
			-  "unchecked exceptions" -> erweitern die Klasse "RuntimeExceptions", heißen so weil Compiler für die Übersetzungszeit **keine** Überprüfung vornimmt
	- Unterklasse "Error" -> können nicht behoben werden
		- "unchecked exceptions"-> erweitern die Klasse "Error", heißen so weil Compiler für die Übersetzungszeit **keine** Überprüfung vornimmt

## Optionen im Exception Handling
- Erzeugen - **new**
	- Werfen - **throw/throws** -> *Progammabbruch*
		- Fangen - **try/catch** -> unbedingter Sprung, gibt keine Bedingung, Springt unbedingt
			- Verarbeiten - { ... }
			- Delegieren - **throw/throws** -> in der Aufruffunktion verarbeiten
			- Erzeugen & Werfen - **new, throw, throws** -> nicht weitergegeben, aber andere Exception, neues Fehlerobjekt, erzeugen -> Rekursion, kann günstiger sein
				- **finally** -> wird immer durchlaufen
- *Programmabbruch*

## Codierung
- Im fehlerfall werden Ausnahmen/Exceptions geworfen
- Beispiel:
```java
	int arr[] = { 1 };
	//Fehler durch Bereichsüberschreitung
	arr[1]++
		//Innerhalb der Array-Implementation erfolgt das Werfen der Ausnahme
```
- Instanz einer Ausnahmeklasse/Throwable wird in der Laufzeitumgebung übergeben
	- ist häufig in bereits bestehenden Bibliotheksfunktionen

## Ablaufkontrolle
- der reguläre Programmablauf wird unterbrochen
	- der nachfolgende Code wird nicht erreicht - unbedingter Sprung
	- Ohne Vorkehrung wird die Methode verlassen - ein Rücksprung zum Aufrufpunkt
		- Wird nicht weiter gemacht - wird geschaut, ob der Fehler verarbeitet wird
			- kaskadierend bis zur Main-Methode
			- reziprob - rückwärts

## Fehlerobjekt
- Instanz der  Exception-Klasse
- In der Regel durch Konstruktoren erzeugt
	- Konstruktor ist mehrfach überladen
- Aktualparameter sind unter anderem Meldungen(String) und andere Exceptions(Throwable)
	- kann getMessage und toString verwenden
- Beachte: Erzeugen eines Fehlerobjektes löst noch keinen Fehler aus

## Auslösender Fall
- Fehlerfall wird ausgelöst durch Werfen der Exception-Instanz
	- **throw** - Kontrollflussanweisung - ist ein unbedingter Sprung
	- bisheriger Kontrollfluss wird in Exception-Mechanismus umgeleitet
		- folgenden Anweisungen werden nicht mehr erreicht
	- ist in Bibliotheken meist schon vorhanden

## Fangen der Exception
- **catch** - Kontrollflussanweisung - Weiterverarbeitung der Exception 
- ist mit **Try-Block** verbunden - **"Try-Catch"-Block**
	- try liegt um mögliche Fehlerquellen
		- Wenn Fehler ausgelöst wird, wird durch Kontrollfluss im **catch-Block** fortgefahren
		- Exception-Instanz wird an catch übergeben

## Finaler Code Block
- try-catch kann um **finally** erweitert werden
- **finally** - Kontrollflussanweisung
	- wird nach dem try-catch-Block unbedingt fortgesetzt
	- unabhängig vom weiteren Programmverhalten besteht die Möglichkeit den Programmstatus zu kontrollieren
- finally-Block läuft nach Abbruch des Programmes zunächst noch durch

## Fehlerspezifische Exceptions
- Adressierung spezifischer Fehlerursachen
- Beispiele:
	- NullPointer-Exception
	- ArrayIndexOutOfBounds-Exception
	- IO-Exception
	- Arithmetic-Exception
- allgemeine Exceptions fangen auch spezifische, gilt aber nicht andersherum

## Checked und Unchecked Exceptions
- **Checked-Exceptions** - Müssen gefangen werden
	- Beispiele
		- ClassNotFound-Exception
		- UnknownHost-Exception
		- IO-Exception
		- SQL-Exception
- **Unchecked-Exceptions** - Können gefangen werden 
	- Beispiele:
		- ClassCast-Exception
		- NullPointer-Exception

## Eigene Erweiterungen
- Anwendungsspezifische Exceptions lassen sich durch Ableitung definieren
	- müssen lediglich nach Bedarf Konstruktoren definiert werden
	- Verwendung wie bisher
- Klassen können mit weiteren Ausnahmebezogenen Attributen versehen werden
	- problembezogene Fehlerinformationen können so über den Exception-Mechanismus transportiert werden
	- Vorteil:
		- semantische Anreicherung und höherer Informationsgehalt
	- Nachteil:
		- Abweichung vom Standard
		- höhere Komplexität, insbesondere in try-catch-Strukturen